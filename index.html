<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Çalışma Asistanı</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="manifest" href="manifest.json">
  <script>
      tailwind.config = {
        darkMode: 'class',
      }
    </script>
     <script>
        if (localStorage.getItem('theme') === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }
    </script>
    
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js" defer></script>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
    <link rel="stylesheet" href="style.css">

    
</head>
<body class="bg-slate-50">

    <div id="app-wrapper">
        <div id="login-container" class="min-h-screen flex items-center justify-center bg-white">
            <div class="text-center p-8 max-w-lg mx-auto">
                <svg class="w-16 h-16 mx-auto text-indigo-600 mb-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"/>
                </svg>
                <h2 class="text-4xl font-extrabold text-slate-900 mb-4">Asistan</h2>
                <p class="mb-8 text-slate-500 text-lg">Öğrenme potansiyelinizi ortaya çıkarın. Akıllı tekrar sistemiyle bilgileri kalıcı hale getirin.</p>
                <button id="google-signin-btn" class="btn btn-primary shadow-lg w-full max-w-xs mx-auto">
                    <svg class="w-5 h-5 mr-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path fill="#FFC107" d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"/><path fill="#FF3D00" d="M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"/><path fill="#4CAF50" d="M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.222,0-9.618-3.499-11.181-8.411l-6.571,4.819C9.656,39.663,16.318,44,24,44z"/><path fill="#1976D2" d="M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.088,5.571l6.19,5.238C42.022,35.021,44,30.021,44,24C44,22.659,43.862,21.35,43.611,20.083z"/></svg>
                    <span>Google ile Başla</span>
                </button>
            </div>
        </div>

        <div id="main-app-container" class="hidden">
            <div class="relative min-h-screen md:flex">
                <aside id="sidebar" class="hidden md:flex flex-col flex-shrink-0 bg-white w-64 border-r border-slate-200 h-screen sticky top-0">
                    <div class="px-6 py-5 border-b border-slate-200 flex items-center gap-3">
                        <svg class="w-8 h-8 text-indigo-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"/></svg>
                       <h1 class="text-xl font-bold text-slate-800">Asistan</h1>
                   </div>
                 <div class="p-4 flex-grow overflow-y-auto">
   
   
<button id="show-summary-view-btn" class="sidebar-link btn btn-secondary dark:bg-slate-700 dark:text-slate-300 dark:border-slate-600 dark:hover:bg-slate-600 w-full mb-2">
       <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" viewBox="0 0 20 20" fill="currentColor">
           <path d="M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" />
       </svg>
       Genel Bakış
   </button>
   
   <button id="show-mastery-journey-btn" class="sidebar-link btn btn-secondary dark:bg-slate-700 dark:text-slate-300 dark:border-slate-600 dark:hover:bg-slate-600 w-full mb-2">
       <span class="mr-3">🗺️</span>
       <span>Ustalık Yolculuğu</span>
   </button>
   
   <button id="show-reports-and-sessions-btn" class="sidebar-link btn btn-secondary dark:bg-slate-700 dark:text-slate-300 dark:border-slate-600 dark:hover:bg-slate-600 w-full mb-2">
       <span class="mr-3">🎯</span>
       <span>Seans Paneli</span>
   </button>
   
   <button id="show-rehearsal-page-btn" class="sidebar-link btn btn-secondary dark:bg-slate-700 dark:text-slate-300 dark:border-slate-600 dark:hover:bg-slate-600 w-full mb-2">
    <span class="mr-3">🎭</span>
    <span>Prova Sahnesi</span>
</button>

   <button id="show-statistics-btn" class="sidebar-link btn btn-secondary dark:bg-slate-700 dark:text-slate-300 dark:border-slate-600 dark:hover:bg-slate-600 w-full mb-2">
       <span class="mr-3">📊</span>
       <span>İstatistikler</span>
   </button>
   
   <button id="show-achievements-btn" class="sidebar-link btn btn-secondary dark:bg-slate-700 dark:text-slate-300 dark:border-slate-600 dark:hover:bg-slate-600 w-full mb-4">
       <span class="mr-3">🏆</span>
       <span>Başarımlar</span>
   </button>

   <button id="open-create-work-modal-btn" class="btn btn-primary dark:bg-indigo-600 dark:hover:bg-indigo-700 w-full mb-4">Yeni Eser Oluştur</button>
   <h3 class="px-2 mb-2 text-xs font-semibold text-slate-400 uppercase tracking-wider">Tüm Eserler</h3>
   <ul id="sidebar-project-list" class="space-y-1 list-none"></ul>
</div>
                   <div class="p-4 border-t border-slate-200 space-y-4">
                       <div id="settings-menu-container" class="relative">
                            <button id="main-settings-btn" class="w-full btn btn-secondary !justify-start">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.532 1.532 0 012.287-.947c1.372.836 2.942-.734-2.106-2.106a1.532 1.532 0 01-.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106A1.532 1.532 0 0111.49 3.17zM10 13a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd" /></svg>
                                <span>Daha Fazla</span>
                            </button>
                         <div id="settings-dropdown" class="hidden absolute bottom-full left-0 mb-2 w-56 bg-white dark:bg-slate-800 rounded-lg shadow-xl z-20 border border-slate-200 dark:border-slate-700">
    <div class="py-1">
       <div class="px-3 py-2 text-xs font-semibold text-slate-400 dark:text-slate-500 uppercase">Uygulama</div>
       
       <a href="#" id="open-methodology-modal-btn" class="block px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700">Çalışma Yöntemi</a>

       <a href="#" id="open-tools-modal-btn" class="block px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700">Araçlar (Metronom/Tuner)</a>
       <a href="#" id="open-daily-goal-modal-btn" class="block px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700">Günlük Pratik Hedefi</a>
        <div class="flex items-center justify-between px-4 py-2 text-sm text-slate-700">
           <span class="font-medium">Koyu Mod</span>
           <label for="theme-toggle" class="relative inline-flex items-center cursor-pointer">
               <input type="checkbox" value="" id="theme-toggle" class="sr-only peer">
               <div class="w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"></div>
           </label>
       </div>
       <div id="project-specific-settings" class="hidden">
           <div class="border-t border-slate-200 dark:border-slate-600 my-1"></div>
           <div class="px-3 py-2 text-xs font-semibold text-slate-400 dark:text-slate-500 uppercase">Aktif Alan</div>
           <a href="#" id="rename-project-from-menu-btn" class="block px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700">Yeniden Adlandır</a>
           <a href="#" id="repetition-settings-from-menu-btn" class="block px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700">Tekrar Periyotları</a>
           <a href="#" id="delete-project-from-menu-btn" class="block px-4 py-2 text-sm text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-500/20 dark:text-rose-500">Alanı Sil</a>
       </div>
    </div>
</div>
                        </div>
                        <div id="user-panel" class="hidden">
                            <div class="flex items-center gap-3">
                               <img id="user-photo" class="w-11 h-11 rounded-full" alt="Kullanıcı Fotoğrafı">
                               <div class="flex-grow overflow-hidden">
                                   <span id="user-name" class="font-semibold text-slate-800 block truncate"></span>
                                   <div class="flex items-center gap-2">
                                       <button id="sign-out-btn" class="text-sm text-slate-500 hover:text-indigo-600">Çıkış Yap</button>
                                       <a href="admin.html" id="go-to-admin-btn" class="hidden text-sm text-slate-500 hover:text-indigo-600">Admin</a>
                                   </div>
                               </div>
                            </div>
                       </div>
                   </div>
                </aside>                
                <main id="main-content" class="flex-1 p-4 md:p-8 flex flex-col min-w-0">
               
                    
                    <div id="content-wrapper" class="flex flex-col flex-grow min-h-0"><div id="project-container" class="hidden flex flex-col flex-grow min-h-0">
            
                        <div class="mb-8 flex flex-wrap items-center justify-between gap-x-4 gap-y-2">
                            <div class="flex items-center gap-4 min-w-0">
                                <h2 id="active-project-title" class="text-3xl md:text-4xl font-extrabold text-slate-800 truncate"></h2>
                                <span id="active-project-tempo-info" class="flex-shrink-0"></span>
                            </div>
                            <div id="project-action-icons" class="hidden flex-shrink-0 flex items-center gap-2">
                                </div>
                        </div>
                        
                        <div id="project-tabs-nav" class="border-b border-gray-200 dark:border-slate-700 mb-6">
                            </div>
            
                        <div id="card-management-view" class="hidden flex flex-col flex-grow min-h-0">
                            <div class="flex flex-wrap items-start justify-between gap-4 mb-6">
                                <div id="interleaved-session-container" class="w-full sm:w-auto text-left">
                                     <button id="start-interleaved-session-btn" class="btn btn-primary w-full sm:w-auto">Tümünü Çalış</button>
                                     <p class="text-xs text-slate-500 text-center sm:text-left mt-1">(Farklı seviyelerdeki kartlar harmanlanır)</p>
                                </div>
                                <button id="open-add-card-modal-btn" class="btn btn-secondary w-full sm:w-auto">Yeni Kart Ekle</button>
                            </div>
                            <div id="leitner-boxes-mobile-accordion" class="space-y-4">
                                </div>
                        </div>
                    
                        <div id="project-reports-view" class="hidden space-y-8">
                            </div>
            
                    </div>
                    
                  <div id="main-dashboard-container" class="max-w-7xl mx-auto w-full space-y-8">
    
   


</div>
                        <div id="reports-and-sessions-container" class="hidden max-w-4xl mx-auto w-full"></div>
                        <div id="achievements-container" class="hidden max-w-3xl mx-auto w-full"></div>
                        <div id="rehearsal-page-container" class="hidden max-w-4xl mx-auto w-full space-y-6"></div>
                        <div id="more-view-container" class="hidden max-w-lg mx-auto w-full p-4 space-y-6"></div>
                        <div id="statistics-container" class="hidden max-w-4xl mx-auto w-full space-y-8"></div>
 <div id="all-projects-container" class="hidden max-w-7xl mx-auto w-full space-y-8"></div>
                            <div id="persistent-progress-container" class="hidden mb-8"></div>

<div class="mb-8 flex flex-wrap items-center justify-between gap-x-4 gap-y-2">
    <div class="flex items-center gap-4 min-w-0">
        <h2 id="active-project-title" class="text-3xl md:text-4xl font-extrabold text-slate-800 truncate"></h2>
        <span id="active-project-tempo-info" class="flex-shrink-0"></span>
    </div>
    <div id="project-action-icons" class="hidden flex-shrink-0 flex items-center gap-2">
         <button id="rename-project-btn" class="btn-icon text-slate-500 hover:text-indigo-600" title="Yeniden Adlandır">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L15.232 5.232z"></path></svg>
         </button><button id="suggest-as-template-btn" class="btn-icon text-slate-500 hover:text-indigo-600" title="Şablon Olarak Öner">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
    </svg>
</button>
         <button id="repetition-settings-btn" class="btn-icon text-slate-500 hover:text-indigo-600" title="Tekrar Periyotları">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0 3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
         </button>
         <button id="delete-project-btn" class="btn-icon text-slate-500 hover:text-rose-600" title="Alanı Sil">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" /></svg>
         </button>
    </div>
</div>
                            
<div id="card-management-view" class="hidden flex flex-col flex-grow min-h-0">
    <div class="flex flex-wrap items-start justify-between gap-4 mb-6">
        <div id="interleaved-session-container" class="w-full sm:w-auto text-left">
             <button id="start-interleaved-session-btn" class="btn btn-primary w-full sm:w-auto">Tümünü Çalış</button>
             <p class="text-xs text-slate-500 text-center sm:text-left mt-1">(Farklı seviyelerdeki kartlar harmanlanır)</p>
        </div>

        <button id="open-add-card-modal-btn" class="btn btn-secondary w-full sm:w-auto">Yeni Kart Ekle</button>
    </div>
    
    <div id="leitner-boxes-mobile-accordion" class="space-y-4">
    </div>
</div>


                        </div>
                    </div>
                </main>
            </div>
            
    <nav id="mobile-bottom-nav" class="flex md:hidden">
                <a href="#" class="mobile-nav-link" data-view="summary">
                   <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-house-icon lucide-house"><path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"/><path d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/></svg>
                </a>
                <a href="#" class="mobile-nav-link" data-view="mastery-journey">
             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-map-icon lucide-map"><path d="M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z"/><path d="M15 5.764v15"/><path d="M9 3.236v15"/></svg>

                   
                </a>
                <a href="#" id="mobile-nav-add-btn" class="mobile-nav-link" data-view="add">
                   <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-plus-icon lucide-circle-plus"><circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/></svg>
                 
                </a>
                <a href="#" class="mobile-nav-link" data-view="rehearsal">
                    <svg class="h-7 w-7 icon-outline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z" /></svg>
                    <svg class="h-7 w-7 icon-solid hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z" /></svg>
                </a>
                <a href="#" class="mobile-nav-link" data-view="more">
                    <img id="mobile-nav-user-photo" class="h-7 w-7 rounded-full border-2 border-slate-400" src="" alt="Profil">
                </a>
            </nav>

    </div>
    
   <div id="study-modal" class="modal-container hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content !max-w-xl !p-6">
            <div class="relative">
                <button data-close-modal="study-modal" class="absolute -top-3 -right-3 bg-white rounded-full p-2 shadow-lg hover:bg-slate-200 z-10">
                     <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-slate-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>

                <div class="flex flex-col items-center gap-4">
                    
                    <div id="study-progress" class="bg-indigo-600 text-white text-sm font-bold px-4 py-1 rounded-full shadow-lg"></div>
                    
                    <div id="pomodoro-container">
                        <span id="pomodoro-display">25:00</span>
                        <button id="pomodoro-toggle-btn" class="btn-icon" title="Başlat/Duraklat">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                               <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd" />
                            </svg>
                        </button>
                        <button id="pomodoro-reset-btn" class="btn-icon" title="Sıfırla">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                               <path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V4a1 1 0 011-1zM15 13a1 1 0 011-1v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 011.885-.666A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v4a1 1 0 01-1 1z" clip-rule="evenodd" />
                            </svg>
                        </button>
                    </div>

                    <div id="study-card-container" class="flip-card h-[400px] w-full">
                        <div class="flip-card-inner">
                            <div class="flip-card-front bg-white"></div>
                            <div class="flip-card-back bg-slate-800 text-white"></div>
                        </div>
                    </div>
                    
                    <div id="study-controls" class="mt-2 text-center"></div>
                </div>
            </div>
        </div>
    </div>
    
   <div id="methodology-modal" class="modal-container hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-content max-w-2xl">
        <div class="flex justify-between items-center p-6 border-b">
            <h3 class="text-xl font-bold text-slate-900">Etkili Pratik Sanatı: Çalışma Yöntemimiz</h3>
            <button data-close-modal="methodology-modal" class="text-slate-400 hover:text-slate-600">&times;</button>
        </div>
        <div id="methodology-modal-content" class="p-6 max-h-[70vh] overflow-y-auto">
            <h2 class="text-2xl font-bold text-slate-900 mb-4">Etkili Pratiğin Bilimi: Asistan Yöntemi</h2>
            <p class="text-slate-600 mb-6">Merhaba! Bu asistan, ezbere dayalı ve verimsiz çalışma alışkanlıklarını, hedefe yönelik ve bilimsel bir sürece dönüştürmek için tasarlandı. Yöntemimiz iki temel prensibe dayanır: <strong>Aşamalı Ustalık</strong> ve <strong>Akıllı Harmanlama</strong>.</p>
        
            <h3 class="text-xl font-semibold text-slate-800 mb-3 mt-8">Bölüm 1: 9 Adımda Ustalık Yolculuğu</h3>
    <p class="text-slate-600 mb-4">Her yeni çalışma kartı, bir müzik eserinin küçük bir parçasını temsil eder ve artık 9 adımlık bir ustalık yolculuğuna çıkar. Bir sonraki adıma geçmek için, her aşamanın hedefini belirli bir tekrar sayısında (ustalık eşiği) başarıyla tamamlamanız gerekir. Bu, şans eseri başarıları eleyerek gerçek ve kalıcı öğrenmeyi garantiler.</p>
        
            <div class="space-y-4">
                <div class="p-4 bg-slate-50 rounded-lg border">
                    <h4 class="font-semibold text-slate-700">✒️ Adım 1: Yeni Pasaj</h4>
                    <p class="text-sm text-slate-500"><strong>Amaç:</strong> Notaları ve ritmi doğru çözme.</p>
                </div>
                <div class="p-4 bg-slate-50 rounded-lg border">
                    <h4 class="font-semibold text-slate-700">🏃 Adım 2: Akıcılık Geliştir</h4>
                    <p class="text-sm text-slate-500"><strong>Amaç:</strong> Duraksamadan, yavaş tempoda çalma.</p>
                </div>
                <div class="p-4 bg-slate-50 rounded-lg border">
                    <h4 class="font-semibold text-slate-700">🚀 Adım 3: Tempo Kazan</h4>
                    <p class="text-sm text-slate-500"><strong>Amaç:</strong> Hedef tempoya yaklaşma.</p>
                </div>
                <div class="p-4 bg-slate-50 rounded-lg border">
                    <h4 class="font-semibold text-slate-700">🎨 Adım 4: Müzikalite Kat</h4>
                    <p class="text-sm text-slate-500"><strong>Amaç:</strong> İfade ve dinamikleri ekleme.</p>
                </div>
                <div class="p-4 bg-orange-50 rounded-lg border border-orange-200">
                    <h4 class="font-semibold text-orange-800">🥁 Adım 5: Farklı Ritimler</h4>
                    <p class="text-sm text-orange-700"><strong>Amaç:</strong> Pasajı noktalı veya triole ritimleriyle çalma.</p>
                </div>
                <div class="p-4 bg-cyan-50 rounded-lg border border-cyan-200">
                    <h4 class="font-semibold text-cyan-800">🧘 Adım 6: Zihinsel Pratik</h4>
                    <p class="text-sm text-cyan-700"><strong>Amaç:</strong> Pasajı enstrümansız, zihinde canlandırma. Bu, sinirsel yolları güçlendirerek ezberi kalıcı hale getiren en kritik adımlardan biridir.</p>
                </div>
                <div class="p-4 bg-gray-50 rounded-lg border border-gray-200">
                    <h4 class="font-semibold text-gray-800">🙈 Adım 7: Kör Pratik</h4>
                    <p class="text-sm text-gray-700"><strong>Amaç:</strong> Enstrümana veya ellerine bakmadan çalma.</p>
                </div>
                <div class="p-4 bg-purple-50 rounded-lg border border-purple-200">
                    <h4 class="font-semibold text-purple-800">✨ Adım 8: Performansa Hazırla</h4>
                    <p class="text-sm text-purple-700"><strong>Amaç:</strong> Ezberden, bütünsel ve müzikal olarak çalma. Artık her şeyi birleştirip bir dinleyiciye çalıyormuş gibi icra etme zamanı!</p>
                </div>
                <div class="p-4 bg-indigo-50 dark:bg-indigo-500/10 rounded-lg border border-indigo-200 dark:border-indigo-500/20">
                    <h4 class="font-semibold text-indigo-800 dark:text-indigo-200">🎭 Adım 9: Prova Sahnesi</h4>
                    <p class="text-sm text-indigo-700 dark:text-indigo-300 mt-1">
                        <strong>Amaç:</strong> Eseri baştan sona, bir dinleyiciye çalar gibi prova etmek. Bu son aşama, tüm öğrendiklerinizi birleştirerek gerçek performans deneyimine hazırlanmanızı sağlar. Bu adımdaki tüm eserler, menüdeki <strong>Prova Sahnesi</strong> sayfasında sizi bekliyor olacak.
                    </p>
                </div>
            </div>
        
            <h3 class="text-xl font-semibold text-slate-800 mb-3 mt-8">Bölüm 2: Akıllı Harmanlamanın Gücü</h3>
            <p class="text-slate-600 mb-4">Bir eseri çalışırken göreceğiniz **"Tümünü Çalış"** butonu, bu sistemin en zeki parçasıdır. Bu butona bastığınızda, kartlar basit bir sırayla gelmez. Sistem, öğrenme bilimindeki **Harmanlanmış Pratik (Interleaved Practice)** tekniğini uygular:</p>
            <ul class="list-disc list-inside space-y-2 my-4 pl-2 text-slate-600">
                <li>Farklı ustalık aşamalarındaki (örneğin bir 'tempo' kartı, ardından bir 'zihinsel pratik' kartı) kartları size **dönüşümlü bir sırayla** sunar.</li>
                <li>Bu amaçlı karıştırma, beyninizi sürekli tetikte tutar ve 'otopilotta' çalışmanızı engeller. Sadece tek bir beceriyi art arda çalışmak yerine (Blok Pratik), farklı görevler arasında zihinsel geçişler yapmak, öğrendiklerinizin hafızanıza çok daha sağlam yerleşmesini sağlar.</li>
            </ul>
        
            <h3 class="text-xl font-semibold text-slate-800 mb-3 mt-8">Bölüm 3: Başarının Anahtarı Sensin</h3>
            <p class="text-slate-600">Asistan, senin dürüst pratik partnerindir. "Ezberden çalabildin mi?" veya "Zihninde canlandırabildin mi?" gibi sorulara verdiğin yanıtın doğruluğunu bilemez. Uygulamanın verimi, tamamen kendine karşı dürüst olmana ve her aşamanın hedefini gerçekten yerine getirip getirmediğini doğru değerlendirmene bağlıdır. Unutma, bu senin kişisel gelişim yolculuğun!</p>
            
            <div class="mt-8 p-4 bg-indigo-50 rounded-lg">
                <p class="text-indigo-800 font-medium">İster her gün "Tümünü Çalış" butonuna basarak hızlı ve etkili bir tekrar yap, istersen de belirli bir kutuya odaklanarak derinlemesine çalış; asistan sana hedeflerine uygun esnek bir yol sunar.</p>
            </div>
        </div>
        <div class="bg-slate-50 px-6 py-4 rounded-b-xl flex justify-end gap-3 border-t">
            <button data-close-modal="methodology-modal" class="btn btn-primary">Anladım</button>
        </div>
    </div>
</div>


    <div id="create-work-modal" class="modal-container hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content max-w-4xl flex flex-col">
             <div class="p-6 border-b flex justify-between items-center">
                 <h3 class="text-xl font-bold text-slate-900">Yeni Çalışma Alanı Oluştur</h3>
                 <button data-close-modal="create-work-modal" class="text-slate-400 hover:text-slate-600">&times;</button>
            </div>
            <div class="border-b border-gray-200 px-6">
                 <nav id="create-work-tabs-nav" class="-mb-px flex space-x-8" aria-label="Tabs">
        <button id="create-blank-tab-btn" class="whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm">Yeni Eser Oluştur</button>
        <button id="create-from-template-tab-btn" class="whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm">Hazır Şablon Kullan</button>
    </nav>
            </div>

            <div id="create-blank-panel" class="flex-grow overflow-y-auto hidden">
                <div class="p-6 grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="flex flex-col gap-6">
                        <div>
                            <h4 class="text-lg font-semibold text-gray-800 mb-2">1. Eser Bilgileri</h4>
                            <div class="p-4 bg-slate-50 rounded-lg border space-y-4">
                                <div>
                                    <label for="new-project-name" class="block text-sm font-medium text-slate-700 mb-1">Eser Adı</label>
                                    <input type="text" id="new-project-name" placeholder="Örn: Chopin, Nocturne Op. 9 No. 2" class="form-input">
                                </div>
                            
                                <div>
                                    <label class="block text-sm font-medium text-slate-700 mb-1">Varsayılan Tempo (BPM)</label>
                                    <div class="grid grid-cols-2 gap-4">
                                        <input type="number" id="new-project-base-tempo" placeholder="Başlangıç" class="form-input">
                                        <input type="number" id="new-project-target-tempo" placeholder="Hedef" class="form-input">
                                    </div>
                                    <p class="text-xs text-slate-500 mt-1">Eserdeki yeni kartlar için varsayılan değerler.</p>
                                </div>
                                </div>
                        </div>
                        <div>
                            <h4 class="text-lg font-semibold text-gray-800 mb-2">2. Kart Ekle</h4>
                            <div class="space-y-3 p-4 bg-slate-50 rounded-lg border">
                                <input type="text" id="new-card-name" placeholder="Kart Başlığı (Ön Yüz)" class="form-input">
                                <input type="text" id="new-card-desc" placeholder="Açıklama (Ön Yüz)" class="form-input">
                                
                                <div class="grid grid-cols-2 gap-4">
                                    <div>
                                        <label for="new-work-base-tempo-input" class="text-xs font-medium text-slate-600 mb-1 block">Başlangıç BPM</label>
                                        <input type="number" id="new-work-base-tempo-input" placeholder="Başlangıç" class="form-input">
                                    </div>
                                    <div>
                                        <label for="new-work-target-tempo-input" class="text-xs font-medium text-slate-600 mb-1 block">Hedef BPM</label>
                                        <input type="number" id="new-work-target-tempo-input" placeholder="Hedef" class="form-input">
                                    </div>
                                </div>
                                                           
                                <div>
                                    <label for="new-work-tags-input" class="text-xs font-medium text-slate-600 mb-1 block">Etiketler (Virgülle ayırın)</label>
                                    <input type="text" id="new-work-tags-input" placeholder="Örn: legato, arpej" class="form-input">
                                </div>
                                
                                <button id="add-card-to-list-btn" class="btn btn-secondary w-full">Kartı Listeye Ekle</button>
                            </div>
                        </div>

                        <div>
                            <h4 class="text-lg font-semibold text-gray-800 mb-2">3. Hızlı Kart Ekleme (İsteğe Bağlı)</h4>
                            <div class="space-y-3 p-4 bg-slate-50 rounded-lg border">
                                <div>
                                    <label for="quick-add-prefix" class="text-xs font-medium text-slate-600 mb-1 block">Ön Ek</label>
                                    <input type="text" id="quick-add-prefix" placeholder="Örn: Ölçü, Bölüm" class="form-input">
                                </div>
                                <div>
                                    <label for="quick-add-ranges" class="text-xs font-medium text-slate-600 mb-1 block">Aralıklar (Virgülle ayırın)</label>
                                    <input type="text" id="quick-add-ranges" placeholder="Örn: 1-8, 9-16, 17-24" class="form-input">
                                </div>
                                <button id="quick-add-btn" class="btn btn-secondary w-full">Aralıkları Kart Olarak Ekle</button>
                            </div>
                        </div>
                        </div>
                   <div class="flex flex-col">
    <h4 id="card-list-title" class="text-lg font-semibold text-gray-800 mb-2">Eklenecek Kartlar (<span id="new-work-card-count">0</span>)</h4>
    <div id="new-work-card-list-container" class="bg-slate-100 p-3 rounded-lg border h-full overflow-y-auto space-y-2">
         <p class="text-center text-gray-500 p-4">Henüz kart eklenmedi.</p>
    </div>
</div>
                </div>
            </div>

            <div id="create-from-template-panel" class="p-6 overflow-y-auto space-y-4 flex-grow hidden"></div>

             <div class="bg-slate-50 px-6 py-4 rounded-b-xl flex justify-end items-center gap-4 border-t">
    <button data-close-modal="create-work-modal" class="btn btn-secondary create-work-cancel-btn">İptal</button> 
    <button id="create-work-confirm-btn" class="btn btn-primary">Eseri ve Kartları Oluştur</button>
</div>
        </div>
    </div>

    <div id="add-card-modal" class="modal-container hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content max-w-lg">
             <div class="p-6">
                <div class="flex justify-between items-start mb-4">
                    <h3 id="add-card-title" class="text-xl font-bold text-slate-900">Yeni Çalışma Kartı Ekle</h3>
                    <button data-close-modal="add-card-modal" class="text-slate-400 hover:text-slate-600">&times;</button>
                </div>
                <div class="space-y-4">
                    <div>
                        <label for="section-name-input" class="text-sm font-medium text-slate-600 mb-1 block">Başlık (Ön Yüz)</label>
                        <input type="text" id="section-name-input" placeholder="Örn: Giriş Teması" class="form-input">
                    </div>
                    <div>
                        <label for="section-desc-input" class="text-sm font-medium text-slate-600 mb-1 block">Açıklama (Ön Yüz)</label>
                        <input type="text" id="section-desc-input" placeholder="Örn: Ölçü 1-8, sağ el" class="form-input">
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label for="base-tempo-input" class="text-sm font-medium text-slate-600 mb-1 block">Başlangıç BPM</label>
                            <input type="number" id="base-tempo-input" placeholder="80" class="form-input">
                        </div>
                        <div>
                            <label for="target-tempo-input" class="text-sm font-medium text-slate-600 mb-1 block">Hedef BPM</label>
                            <input type="number" id="target-tempo-input" placeholder="120" class="form-input">
                        </div>
                    </div>
                    <div>
                        <label for="section-tags-input" class="text-sm font-medium text-slate-600 mb-1 block">Etiketler (Virgülle ayırın)</label>
                        <input type="text" id="section-tags-input" placeholder="Örn: legato, sol-el, dinamik" class="form-input">
                    </div>
                    <div>
                         <label for="section-notes-input" class="text-sm font-medium text-slate-600 mb-1 block">Detaylı Notlar (Arka Yüz)</label>
                        <textarea id="section-notes-input" placeholder="Parmak numaraları, dinamikler, ipuçları..." class="form-textarea" rows="3"></textarea>
                    </div>
                </div>
            </div>
            <div class="bg-slate-50 px-6 py-4 rounded-b-xl flex justify-end gap-3">
                 <button data-close-modal="add-card-modal" class="btn btn-secondary">İptal</button>
                <button id="add-section-btn" class="btn btn-primary">Kartı Ekle</button>
            </div>
        </div>
    </div>
    <div id="info-modal" class="modal-container hidden">
        <div class="modal-backdrop" style="z-index: 69;"></div>
        <div class="modal-content max-w-sm w-full" style="z-index: 70;">
            <div class="p-8 text-center">
                 <div id="info-modal-icon-container" class="w-16 h-16 mx-auto mb-4"></div>
                <p id="info-modal-text" class="text-lg text-slate-700 mb-6"></p>
                <div id="info-modal-buttons" class="flex justify-center gap-4"></div>
            </div>
        </div>
    </div>
    <div id="level-detail-modal" class="modal-container hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <div class="p-6">
                <div class="flex justify-between items-start mb-4">
                    <h3 id="level-detail-title" class="text-xl font-bold text-slate-900">Aşama Detayları</h3>
                    <button data-close-modal="level-detail-modal" class="text-slate-400 hover:text-slate-600">&times;</button>
                </div>
                <div id="level-detail-body" class="space-y-2 max-h-60 overflow-y-auto"></div>
            </div>
            <div class="bg-slate-50 px-6 py-4 rounded-b-xl flex justify-end gap-3">
                <button data-close-modal="level-detail-modal" class="btn btn-secondary">Kapat</button>
                <button id="level-detail-study-btn" class="btn btn-primary">Tümünü Çalış</button>
            </div>
        </div>
    </div>
    <div id="tools-modal" class="modal-container hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content max-w-md">
            <div class="p-6">
                <div class="flex justify-between items-start">
                    <h3 class="text-xl font-bold text-slate-900">Araçlar</h3>
                    <button data-close-modal="tools-modal" class="text-slate-400 hover:text-slate-600">&times;</button>
                </div>
                 <div class="border-b border-gray-200 mt-2">
                    <nav class="-mb-px flex space-x-8" aria-label="Tabs">
                        <button id="metronome-tab-btn" class="border-indigo-500 text-indigo-600 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm">Metronom</button>
                        <button id="tuner-tab-btn" class="border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm">Tuner</button>
                    </nav>
                </div>
            </div>
            <div id="metronome-panel" class="p-6">
                <div class="flex flex-col items-center gap-6">
                    <div id="metronome-visualizer" class="w-8 h-8 bg-slate-200 rounded-full transition-colors duration-75"></div>
                            

                    <div class="text-6xl font-bold text-slate-800" id="bpm-display">120</div>
                    <div class="w-full">
                        <input type="range" id="bpm-slider" min="40" max="220" value="120" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                    </div>
                    <button id="start-stop-metronome-btn" class="btn btn-primary w-32">Başlat</button>
                </div>
            </div>
            <div id="tuner-panel" class="p-6 hidden">
                <div class="flex flex-col items-center gap-4 text-center">
                    <div id="tuner-start-message">
                        <p class="text-slate-500 mb-4">Akort aletini başlatmak için aşağıdaki butona tıklayın ve mikrofon erişimine izin verin.</p>
                        <button id="start-tuner-btn" class="btn btn-primary">Tuner'ı Başlat</button>
                    </div>
                    <div id="tuner-display" class="hidden w-full">
                        <div class="relative w-full h-2 bg-slate-200 rounded-lg overflow-hidden mb-4">
                             <div class="absolute top-0 left-1/2 w-0.5 h-full bg-slate-400 -translate-x-1/2"></div>
                             <div id="tuner-indicator" class="absolute top-0 h-full w-2 bg-indigo-600 rounded-full transition-transform duration-150" style="transform: translateX(-50%) scaleX(0);"></div>
                        </div>
                        <div id="note-display" class="text-6xl font-bold text-slate-800">-</div>
                        <div id="frequency-display" class="text-lg text-slate-500">- Hz</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="settings-modal" class="modal-container hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <div class="p-6">
                <div class="flex justify-between items-start mb-4">
                    <h3 class="text-xl font-bold text-slate-900">Tekrar Periyotları</h3>
                    <button data-close-modal="settings-modal" class="text-slate-400 hover:text-slate-600">&times;</button>
                </div>
                <p id="settings-project-name" class="text-slate-500 mb-4"></p>
                <div id="settings-form" class="space-y-6">
                    <div class="grid grid-cols-3 items-center gap-4">
                        <label for="mastery-threshold-input" class="font-medium text-slate-600 col-span-2">Ustalık Eşiği (Tekrar Sayısı)</label>
                        <input type="number" id="mastery-threshold-input" value="5" min="1" class="form-input text-center">
                    </div>
                
                    <div class="border-t pt-6">
                        <label class="block font-medium text-slate-600 mb-2">Varsayılan Eser Temposu (BPM)</label>
                        <div class="grid grid-cols-2 gap-4">
                            <input type="number" id="settings-base-tempo" placeholder="Başlangıç" class="form-input text-center">
                            <input type="number"id="settings-target-tempo" placeholder="Hedef" class="form-input text-center">
                        </div>
                        <p class="text-xs text-slate-500 mt-2">Bu esere eklenecek yeni kartlar için varsayılan değerleri değiştirir.</p>
                    </div>
                    </div>
            </div>
            <div class="bg-slate-50 px-6 py-4 rounded-b-xl flex justify-end gap-3">
                <button data-close-modal="settings-modal" class="btn btn-secondary">İptal</button>
                <button id="save-settings-btn" class="btn btn-primary">Kaydet</button>
            </div>
        </div>
    </div>
    <div id="edit-card-modal" class="modal-container hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content max-w-lg">
            <div class="p-6">
                <div class="flex justify-between items-start mb-4">
                    <h3 class="text-xl font-bold text-slate-900">Kartı Düzenle</h3>
                    <button data-close-modal="edit-card-modal" class="text-slate-400 hover:text-slate-600">&times;</button>
                </div>
                <div id="edit-card-form" class="space-y-4">
                    <input type="hidden" id="edit-card-id">
                    <div>
                        <label for="edit-card-name" class="block text-sm font-medium text-slate-600 mb-1">Başlık</label>
                        <input type="text" id="edit-card-name" class="form-input">
                    </div>
                    <div>
                        <label for="edit-card-desc" class="block text-sm font-medium text-slate-600 mb-1">Açıklama</label>
                        <input type="text" id="edit-card-desc" class="form-input">
                    </div>
                
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label for="edit-base-tempo" class="text-sm font-medium text-slate-600 mb-1 block">Başlangıç BPM</label>
                            <input type="number" id="edit-base-tempo" placeholder="80" class="form-input">
                        </div>
                        <div>
                            <label for="edit-target-tempo" class="text-sm font-medium text-slate-600 mb-1 block">Hedef BPM</label>
                            <input type="number" id="edit-target-tempo" placeholder="120" class="form-input">
                        </div>
                    </div>
                    <div>
                        <label for="edit-card-tags" class="block text-sm font-medium text-slate-600 mb-1">Etiketler (Virgülle ayırın)</label>
                        <input type="text" id="edit-card-tags" placeholder="Örn: legato, sol-el, dinamik" class="form-input">
                    </div>
                    <div>
                        <label for="edit-card-notes" class="block text-sm font-medium text-slate-600 mb-1">Notlar</label>
                        <textarea id="edit-card-notes" class="form-textarea" rows="3"></textarea>
                    </div>
                </div>
            </div>
            <div class="bg-slate-50 px-6 py-4 rounded-b-xl flex justify-end gap-3">
                 <button data-close-modal="edit-card-modal" class="btn btn-secondary">İptal</button>
                <button id="save-edit-card-btn" class="btn btn-primary">Kaydet</button>
            </div>
        </div>
    </div>

    <div id="daily-goal-modal" class="modal-container hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content max-w-sm">
            <div class="p-6">
                <div class="flex justify-between items-start mb-4">
                    <h3 class="text-xl font-bold text-slate-900">Günlük Pratik Hedefi</h3>
                    <button data-close-modal="daily-goal-modal" class="text-slate-400 hover:text-slate-600">&times;</button>
                </div>
                <p class="text-slate-500 text-sm mb-4">
                    Her gün ne kadar süre pratik yapmayı hedeflediğini belirle. Bu, ana paneldeki ilerleme çubuğunu etkileyecektir.
                </p>
            
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-slate-600 mb-2">Hızlı Seçim</label>
                        <div class="grid grid-cols-4 gap-2">
                            <button data-value="60" class="goal-preset-btn btn btn-secondary !px-2 !py-2 text-sm">1 Saat</button>
                            <button data-value="120" class="goal-preset-btn btn btn-secondary !px-2 !py-2 text-sm">2 Saat</button>
                            <button data-value="180" class="goal-preset-btn btn btn-secondary !px-2 !py-2 text-sm">3 Saat</button>
                            <button data-value="240" class="goal-preset-btn btn btn-secondary !px-2 !py-2 text-sm">4 Saat</button>
                        </div>
                    </div>
                    
                    <div class="relative py-2">
                        <div class="absolute inset-0 flex items-center" aria-hidden="true">
                            <div class="w-full border-t border-slate-200"></div>
                        </div>
                        <div class="relative flex justify-center text-sm">
                            <span class="bg-white px-2 text-slate-500">veya</span>
                        </div>
                    </div>

                    <div>
                        <label for="daily-goal-input-hours" class="block text-sm font-medium text-slate-600 mb-2">Özel Değer (Saat Olarak)</label>
                        <input type="number" id="daily-goal-input-hours" min="0.5" step="0.5" placeholder="Örn: 1.5" class="form-input text-center font-bold text-lg">
                    </div>
                </div>
            </div>
            <div class="bg-slate-50 px-6 py-4 rounded-b-xl flex justify-end gap-3 border-t">
                <button data-close-modal="daily-goal-modal" class="btn btn-secondary">İptal</button>
                <button id="save-daily-goal-btn" class="btn btn-primary">Kaydet</button>
            </div>
        </div>
    </div>

    <div id="template-settings-modal" class="modal-container hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-content max-w-md">
        <div class="p-6">
            <div class="flex justify-between items-start mb-4">
                <h3 class="text-xl font-bold text-slate-900">Şablon Ayarları</h3>
                <button data-close-modal="template-settings-modal" class="text-slate-400 hover:text-slate-600">&times;</button>
            </div>
            <p id="template-settings-info" class="text-slate-500 text-sm mb-6">
                </p>
        
            <div class="space-y-4">
                <input type="hidden" id="template-name-to-create">
                <div>
                    <label for="template-base-tempo" class="block text-sm font-medium text-slate-600 mb-2">Kişisel Başlangıç Temponuz (BPM)</label>
                    <input type="number" id="template-base-tempo" placeholder="Örn: 70" class="form-input text-center font-bold text-lg">
                </div>
                <div>
                    <label for="template-target-tempo" class="block text-sm font-medium text-slate-600 mb-2">Kişisel Hedef Temponuz (BPM)</label>
                    <input type="number" id="template-target-tempo" placeholder="Örn: 110" class="form-input text-center font-bold text-lg">
                </div>
            </div>
        </div>
        <div class="bg-slate-50 px-6 py-4 rounded-b-xl flex justify-end gap-3 border-t">
            <button data-close-modal="template-settings-modal" class="btn btn-secondary">İptal</button>
            <button id="confirm-template-creation-btn" class="btn btn-primary">Eseri Oluştur</button>
        </div>
    </div>
</div>
  <div id="onboarding-modal" class="modal-container hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-content max-w-lg">
        <div id="onboarding-step-content" class="p-8 text-center">
            <div class="w-24 h-24 mx-auto text-indigo-500 mb-4">
                </div>
            <h3 class="text-2xl font-bold text-slate-800 mb-2">Başlık Buraya</h3>
            <p class="text-slate-600">Açıklama metni buraya gelecek.</p>
        </div>

        <div class="bg-slate-50 px-6 py-4 rounded-b-xl flex justify-between items-center border-t">
            <button id="onboarding-skip-btn" class="btn btn-secondary !py-2 !px-4 text-sm">Turu Atla</button>
            <div id="onboarding-dots" class="flex gap-2">
                </div>
            <div id="onboarding-navigation" class="flex gap-3">
                <button id="onboarding-back-btn" class="btn btn-secondary">Geri</button>
                <button id="onboarding-next-btn" class="btn btn-primary">İleri</button>
                <button id="onboarding-finish-btn" class="btn btn-primary hidden">Hadi Başlayalım!</button>
            </div>
        </div>
    </div>
</div>
<div id="template-comments-modal" class="modal-container hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-content !max-w-2xl flex flex-col">
        <div class="p-6 border-b flex justify-between items-center">
             <div class="flex items-center gap-3">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                </svg>
                <h3 id="comments-modal-title" class="text-xl font-bold text-slate-900">Şablon İpuçları ve Yorumlar</h3>
             </div>
             <button data-close-modal="template-comments-modal" class="text-slate-400 hover:text-slate-600">&times;</button>
        </div>
        
        <div id="template-comments-list" class="p-6 flex-grow overflow-y-auto space-y-4 bg-slate-50">
            <p class="text-center text-slate-500 py-8">Yorumlar yükleniyor...</p>
        </div>

        <div class="p-6 bg-white border-t">
            <h4 class="text-md font-semibold text-slate-800 mb-2">İpucu veya Yorum Ekle</h4>
            <div class="flex items-start gap-3">
                <img id="new-comment-user-photo" class="w-10 h-10 rounded-full" alt="Kullanıcı">
                <div class="flex-grow">
                    <textarea id="new-comment-textarea" placeholder="Bu eserle ilgili bir ipucu paylaş..." class="form-textarea w-full" rows="2"></textarea>
                    <div class="text-right mt-2">
                        <button id="submit-comment-btn" class="btn btn-primary">Gönder</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<div id="recorder-modal" class="modal-container hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-content !max-w-md flex flex-col">
        <div class="p-6 border-b flex justify-between items-center">
             <div class="flex items-center gap-3">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" />
                </svg>
                <h3 id="recorder-modal-title" class="text-xl font-bold text-slate-900">Kayıt Stüdyosu</h3>
             </div>
             <button data-close-modal="recorder-modal" class="text-slate-400 hover:text-slate-600">&times;</button>
        </div>
        
        <div class="p-6 flex-grow text-center flex flex-col items-center justify-center gap-6">
            <button id="record-button" class="w-20 h-20 bg-red-500 rounded-full text-white shadow-lg hover:bg-red-600 transition-colors flex items-center justify-center">
                <svg id="record-icon" xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" />
                </svg>
                <svg id="stop-icon" xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 10h6v4H9z" />
                </svg>
            </button>
            <p id="recorder-status" class="text-slate-500 font-medium h-5">Kayıt yapmak için butona basın</p>
            
            <audio id="audio-playback" controls class="w-full hidden"></audio>

            <a id="download-link" class="hidden btn btn-secondary w-full">Kaydı İndir</a>
        </div>
    </div>
</div>

<script type="module" src="asistan_script_yeni.js"></script>

</body>
</html>